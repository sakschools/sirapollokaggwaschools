<div id="carouselExampleAutoplaying" class="carousel slide" data-bs-ride="carousel">
  {{ $carousel := index site.Data.settings "carousel-main" }}
  <div class="carousel">
      {{ with $carousel.anniversary_image }}
      <div class="anniversary-image">
          <img src="{{ .path }}" alt="{{ .alt }}">
      </div>
      {{ end }}
      
      <div class="carousel-indicators">
          {{ range $index, $slide := $carousel.slides }}
          <button type="button" data-bs-target="#carouselExampleAutoplaying" 
                  data-bs-slide-to="{{ $index }}" 
                  class="{{ if eq $index 0 }}active{{ end }}" 
                  aria-current="{{ if eq $index 0 }}true{{ end }}" 
                  aria-label="Slide {{ add $index 1 }}">
          </button>
          {{ end }}
      </div>
      
      <div class="carousel-inner">
          {{ range $index, $slide := $carousel.slides }}
          <div class="carousel-item {{ if eq $index 0 }}active{{ end }}">
              <img src="{{ $slide.image }}" class="d-block w-100" alt="{{ $slide.alt }}">
              {{ with $slide.content }}
              <div class="content">
                  {{ with .author }}<div class="author">{{ . }}</div>{{ end }}
                  {{ with .topic }}<div class="topic">{{ . }}</div>{{ end }}
                  {{ with .description }}<div class="des text-center">{{ . }}</div>{{ end }}
              </div>
              {{ end }}
          </div>
          {{ end }}
      </div>
      
      <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleAutoplaying" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleAutoplaying" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
      </button>
  </div>
</div>

<script src="/js/home_carousel.js"></script>